# 无线电应用和实验

## 理论课一

### 网络协议与通信

#### **网络协议**：

Internet能够正常运作，它要求所有设备都应该遵循**<u>一套相同</u>**的规则。这些规则叫做**<u>协议</u>**

- 网络通信协议：这类协议使得设备能够在网络上进行通信，**IP,TC,HTTP**

- 网络安全协议：提供身份验证和数据加密，保护数据完整性，**SSH,SSL**

- 服务发现协议：这类协议用于设备或者服务的自动检测，**DHCP,DNS**

  （DHCP能够为接入的设备自动分配IP地址）
  
  ---

#### 协议的交互

计算机通过网络发送消息时，需要多种协议，每种协议都有各自的功能和格式。

首先是用户向服务器发送请求

在这个过程中需要用到以太网，IP等协议

#### 协议簇

* 网络协议簇：

  * 实现某种通信功能所需要的一组相关协议叫做**协议簇**

    协议簇为==分层结构==，上层依赖于下层，下层负责传输数据，上层负责处理消息
    	==底层是物理层==，两人通过电话交流；==中间层是规则层==，两人约定使用通用的语言交流，==顶层是内容层==，处理交流内容。

- 协议簇的演变：在互联网的发展过程中，曾经出现过几个相互竞争的协议簇

* TCP/IP协议簇

  ---

  

### 标准组织

- **开放标准：**

  - 标准组织是中立于厂商的非盈利性组织。

  **互联网名称和数字地址分配机构（ICANN）**：协调IP地址分配

  **互联网编号指派机构**：负责监督和管理ICANN中的IP地址分配和管理

  **电子和通信标准组织**：

  ​	--电气电子工程师协会（IEEE）

  ​	--美国电子工业协会（EIA）：设计制订用于安装网络设备的线缆、连接器等方面的标准

  ​	--电信工业协会（TIA）：各种领域的通信标准，包括无线电设备，手机信号塔，IP语音和卫星通信

  ---

  

### 参考模型

- **使用分层模型的优点**

​	能够方便协议设计、促进竞争、避免一个协议的升级或功能变化影响其它层级

目前使用的两种网络分层模型：

​	**TCP/IP模型**和**OSI模型**是研究网络时最常使用的两种模型

​	**TCP/IP模型：**网络接入层，互联网层，传输层，应用层		

**OSI参考模型**：物理层，数据链路层，网络层，传输层，会话层，表示层，应用层	

- 应用层：与应用程序相关联的各种通信协议

- 表示层：将需要传输的信息表示成规范的格式

- 会话层：建立和维持会话

- 传输层：添加端口号，封装数据段，规定数据的传输、重组方式、是否需要确认机制等

- 网络层：添加IP地址，封装数据包，选择发送数据包的路径

- 数据链路层：添加MAC地址，封装数据帧

- 物理层：与传输介质相关，将数据转换成可以在各种介质上传输的物理信号

  ---

  

### 数据的封装

- **数据分段**

  将数据划分为较小的片段称为分段。消息分段的优点：

  - 可以在网络上交替发送多个不同会话，成为多路复用。交替地发送各个用户的信息	
  - 可以增强网络的通信效率。如果因为网络故障或者网络堵塞，可以只重新发送缺少的片段

- **数据排序**

  **TCP协议**负责对数据段进行排序，即==对每个数据段进行编号==。

- **协议数据单元**

  - 在传输数据的过程中，随着数据沿着协议栈向下传递，每一层都要添加各种协议信息。此过程称为封装。

  - 数据在任一协议层的表示形式成为数据单元（PDU）。过程中，每一层都从上一层接受PDU，并接受新的封装

  - 每个封装阶段，PDU都有各自不同的名称

    解封主机上的接受过程**与封装相反**，称为**解封**。在解封过程中，接受设备删除一个又一个协议报头

  ---

  #### 第三层逻辑地址

  ​	数据在跨网络传输时，数据包的地址不变，即源主机和目的主机的IP地址不变，但是在数据帧经过路由器时，会将源MAC地址和目的MAC地址改变。

  #### 数据链路层地址

  ​	数据链路层的MAC地址仅用在本地网络中传输数据。在传输过程中每一次的经过路由器都要发生MAC地址的变化。
---


## 理论课二

### 本地有线网络中的协议

- **物理寻址**

  - 以太网中的主机都会有一个自己的物理地址，用于在网络中标识自己，相当于它的名字。

  - 每个以太网接口在制造时，都分配了一个物理地址，该地址为MAC地址。

    该地址为12位16进制数，6个字节。

- **以太网络的层级设计**
  - 层次式设计有三个基本层：
    - 接入层--**连接本地以太网络中的主机**
    - 分布式--**将较小的本地网络相互连接起来**
    - 核心式

- **逻辑寻址**

​	IP地址(v4)包含两部分：32位，4个十进制数字

​	1.前边的第一部分标识**本地网络**，**所有连接到同一本地网络的主机，其IP地址的网络部分是一样的**

​	2.后边的第二部分标识**特定主机**：在同一个本地网络中，IP地址的主机部分是每台主机所**独有**的

​	运行命令提示符，进入DOS命令行界面，输入**ipconfig/all**命令

![CMD](image\ipconfig.png"命令行")

```text
- IP地址可以用于确定网络通信地址应该保留在本地还是上移到更高层级去中转
- 若网络部分相同，那么二者属于同一网络，则保留在本地网络。发送任务由交换机独立完成
- 否则则需要经过路由器来完成
- 主机的MAC地址一般不会改变，是固化在网卡内部的地址，称为物理地址
- IP地址类似于人的住址或者通信地址，称为逻辑地址，IP地址由网络管理员手工或自动分配给每台主机，通常并非固定不变的
- 层次网络中的主机，同时需要MAC地址和IP地址；就像是在寄信时，同时需要名字和通信地址一样
```

- **接入式、分布式和设备**

​	<span style="text-decoration:line-through;">（了解就行）</span>

---

### **交换机的功能**

- 交换机Switch是接入层的一种多端口设备。交换机可将多台主机连接到网络，交换机可转发消息到特定主机。

- 当一台主机发送消息到另一台主机时，交换机将接受并且解码消息帧，以读取目的主机对的MAC地址，然后在MAC地址中找到相应端口并且作出转发。

- 在传输消息时，交换机将检查目的主机的MAC地址是否在MAC地址表中。

  - 如果在，交换机就会在源端口和目的端口之间建立一个临时的专用通道，其他主机不会占用此通道。
  
  - 若不在，会发送广播信息以确认
  
  ---

### **广播消息**

- 在本地网络中，一台主机想要传递消息时，也可以采取广播的方式。
  - 当一台主机接收到目的为广播地址时，它会接受并处理该消息
  - 当某台主机发出一条广播消息时，交换机会将该消息转发到同一台本地网络连接的每台主机
  - 故本地网络称为**广播域**（当任一主机发送广播消息时，所有能够接收到这个广播消息的主机的集合）

---

### MAC地址和IP地址

- **命令行 arp -a:**

  ![查询本地接口对应的MAC地址](image\arp -a.png"查询本地接口对应的MAC地址")

---

### **分布层**

- 随着网络的扩大，应将一个本地网络分成多个接入层网络，然后用分布层设备（如路由器）进行互联
- **路由器的特点**
  - 路由器在本质上是一台计算机，路由器的构成：CPU,OS,RAM,ROM,NVRAM（非易失性随机访问存储器）
- **路由器的功能**
  - 路由器是用于**连接不同本地网络**的分布层设备
  - **路由器的功能**：路由器收到一个数据帧时，会对其进行解封装，然后将数据包的目的IP地址的网络部分与路由表中可以到达的网络进行对照
    路由器不能够发布广播信息
  - 设置默认网关一般考虑设备所连接的路由器端口的地址


---

## 理论课三

### 在INTERNET中转发数据包

- **ping**命令和**traceroute**命令
  - **tracert**命令（ctrl+c停止）能够测试源主机到目标主机的路由路径
  - ping命令测试网络可用性和连接速度

### 网线

- **双绞线电缆**：由一对或者多对金属线组成，双绞线线缆容易受到电磁干扰的影响，若多根电缆在很长一段距离中被捆扎在一起，还会发生串扰，即信号在线缆间泄露。

  针对干扰情况的不同，可采用三种不同类型的双绞线电缆，非屏蔽双绞线UTP，屏蔽双绞线STP，外屏蔽双绞线ScTP。

- 所谓屏蔽是指外层包裹有金属编织物箔层

- UTP电缆内部一般包含四对线对

### 使用双绞线布线

- **布线标准**
  - 一部分线缆可用于传送直流电
  - TIA组织定义了两种不同的末端线序，分别叫做T568A和T568B
  - 制作网线时电缆内部X白和X成对绞在一起
  - 使用T568A与T568B可创建两种类型的电缆，直通电缆和交叉电缆。这两种电缆都可用于数据布线

​		**不相似设备用直通电缆，相似设备用交叉电缆**

---

